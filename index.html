<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI PROMPT ATELIER - GRAND MASTER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@300;400;500;700&family=Shippori+Mincho:wght@400;600;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Zen Kaku Gothic New"', 'sans-serif'],
                        serif: ['"Shippori Mincho"', 'serif'],
                    },
                    colors: {
                        brand: { 50: '#f5f3ff', 100: '#ede9fe', 500: '#8b5cf6', 600: '#7c3aed', 900: '#4c1d95' },
                    },
                    screens: {
                        'xs': '480px',
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #F8FAFC; color: #1E293B; -webkit-font-smoothing: antialiased; }
        
        /* Èö†„Åó„Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„Å†„Åå„Çπ„ÇØ„É≠„Éº„É´ÂèØËÉΩ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* „Ç´„Çπ„Çø„É†„Çπ„ÇØ„É≠„Éº„É´„Éê„Éº (PCÁî®) */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }

        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .card-anim { transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .card-anim:active { transform: scale(0.98); }
        .card-anim:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(124, 58, 237, 0.08); }
        
        .selected-card { 
            background: linear-gradient(135deg, #ffffff 0%, #f5f3ff 100%);
            border-color: #7c3aed;
            box-shadow: 0 0 0 1px #7c3aed, 0 4px 12px rgba(124, 58, 237, 0.15);
        }

        /* „É¢„Éê„Ç§„É´Áî®Ë™øÊï¥ */
        .mobile-safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden text-sm md:text-base">

    <div id="app" class="flex flex-col h-full relative">
        
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <header class="bg-white/95 backdrop-blur border-b border-slate-200 z-50 flex-shrink-0">
            <div class="max-w-screen-2xl mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex flex-col">
                    <h1 class="font-serif font-bold text-xl md:text-2xl text-slate-900 tracking-tight flex items-center gap-2">
                        <span class="text-brand-600">‚ú¶</span> ATELIER
                    </h1>
                    <p class="text-[10px] md:text-xs text-slate-400 font-bold tracking-widest uppercase">Grand Master Edition</p>
                </div>
                
                <!-- „É¢„Éá„É´ÈÅ∏Êäû (PC) -->
                <div class="hidden md:flex bg-slate-100 rounded-lg p-1 gap-1">
                    <button v-for="m in models" :key="m.id" @click="config.model = m.id"
                        :class="['px-3 py-1.5 rounded-md text-xs font-bold transition-all', 
                        config.model === m.id ? 'bg-white text-brand-600 shadow-sm' : 'text-slate-500 hover:text-slate-700']">
                        {{ m.name }}
                    </button>
                </div>

                <!-- ÁîüÊàê„Ç¢„ÇØ„Ç∑„Éß„É≥ (PC) -->
                <button @click="generate" class="hidden md:flex bg-slate-900 hover:bg-black text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg items-center gap-2 transition-transform active:scale-95">
                    <span>ÁîüÊàê (Build)</span>
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                </button>

                <!-- „É¢„Éê„Ç§„É´Áî®„É¢„Éá„É´Âàá„ÇäÊõø„Åà„Éú„Çø„É≥ -->
                <button @click="showMobileModelSelect = !showMobileModelSelect" class="md:hidden p-2 text-slate-600 bg-slate-100 rounded-lg">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" /></svg>
                </button>
            </div>
            
            <!-- „É¢„Éê„Ç§„É´Áî®„É¢„Éá„É´ÈÅ∏Êäû„É°„Éã„É•„Éº -->
            <div v-if="showMobileModelSelect" class="md:hidden border-t border-slate-100 bg-slate-50 p-2 flex gap-2 overflow-x-auto no-scrollbar">
                <button v-for="m in models" :key="m.id" @click="config.model = m.id; showMobileModelSelect = false"
                    :class="['flex-shrink-0 px-3 py-2 rounded-lg text-xs font-bold border', 
                    config.model === m.id ? 'bg-white border-brand-500 text-brand-600' : 'bg-transparent border-transparent text-slate-500']">
                    {{ m.name }}
                </button>
            </div>
        </header>

        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ („É¨„Çπ„Éù„É≥„Ç∑„Éñ„Ç∞„É™„ÉÉ„Éâ) -->
        <div class="flex-1 overflow-hidden flex flex-col md:flex-row">
            
            <!-- Â∑¶„Ç´„É©„É†: ÂÖ•Âäõ„Å®ÈÅ∏Êäû („Çπ„ÇØ„É≠„Éº„É´) -->
            <div class="flex-1 overflow-y-auto bg-[#F8FAFC] pb-24 md:pb-10">
                <div class="max-w-4xl mx-auto p-4 md:p-8 space-y-8">

                    <!-- 1. ‰æùÈ†ºÂÜÖÂÆπ -->
                    <section>
                        <div class="flex justify-between items-end mb-3">
                            <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2">
                                <span class="w-1.5 h-4 bg-brand-500 rounded-sm"></span> 01. Request
                            </h2>
                            <button @click="toggleContext" class="text-xs text-brand-600 font-bold hover:underline">
                                {{ showContext ? '‚àí Ë©≥Á¥∞„ÇíÈö†„Åô' : 'Ôºã Ë©≥Á¥∞„ÉªËÉåÊôØ„ÇíËøΩÂä†' }}
                            </button>
                        </div>
                        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 focus-within:ring-2 focus-within:ring-brand-100 transition-all">
                            <textarea v-model="input.task" placeholder="„Åì„Åì„Å´ÂÆüÁèæ„Åó„Åü„ÅÑ„Åì„Å®„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...&#10;‰æãÔºöÊúÄÊñ∞„ÅÆAI„Éà„É¨„É≥„Éâ„ÇíËß£Ë™¨„Åô„ÇãË®ò‰∫ã„ÇíÊõ∏„ÅÑ„Å¶„ÄÇ„Çø„Éº„Ç≤„ÉÉ„Éà„ÅØÈùû„Ç®„É≥„Ç∏„Éã„Ç¢„ÄÇ" 
                                class="w-full h-24 bg-transparent border-none text-base text-slate-800 placeholder-slate-300 focus:ring-0 resize-none leading-relaxed"></textarea>
                            
                            <div v-if="showContext" class="mt-4 pt-4 border-t border-slate-100 animate-fade">
                                <label class="text-[10px] text-slate-400 font-bold mb-1 block">ËÉåÊôØÊÉÖÂ†±„ÉªÂèÇËÄÉ„Éá„Éº„Çø</label>
                                <textarea v-model="input.context" placeholder="ÂèÇËÄÉ„ÉÜ„Ç≠„Çπ„Éà„ÇÑÂâçÊèêÊù°‰ª∂„ÇíÂÖ•Âäõ..."
                                    class="w-full h-20 bg-slate-50 rounded-lg p-3 text-sm border-none focus:ring-0 resize-none"></textarea>
                            </div>
                        </div>
                    </section>

                    <!-- 2. Ë©≥Á¥∞Ë®≠ÂÆö („Çø„Éñ & Ê§úÁ¥¢) -->
                    <section>
                        <!-- „Çø„Éñ„É°„Éã„É•„Éº -->
                        <div class="sticky top-0 bg-[#F8FAFC]/95 backdrop-blur z-20 py-2 border-b border-slate-200 mb-4 -mx-4 px-4 md:mx-0 md:px-0">
                            <div class="flex overflow-x-auto no-scrollbar gap-6">
                                <button v-for="tab in tabs" :key="tab.id" @click="currentTab = tab.id"
                                    :class="['text-sm font-bold whitespace-nowrap pb-2 transition-colors relative flex items-center gap-2', 
                                    currentTab === tab.id ? 'text-slate-900' : 'text-slate-400']">
                                    <span>{{ tab.icon }}</span> {{ tab.name }}
                                    <span v-if="currentTab === tab.id" class="absolute bottom-0 left-0 w-full h-[2px] bg-brand-600 rounded-full"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Ê§úÁ¥¢„Éê„Éº -->
                        <div class="relative mb-4">
                            <input type="text" v-model="searchQuery" placeholder="ÈÅ∏ÊäûËÇ¢„ÇíÊ§úÁ¥¢ (‰æã: Python, Ë´ñÊñá, Ë°®)..." 
                                class="w-full bg-white border border-slate-200 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:border-brand-400 focus:ring-2 focus:ring-brand-100">
                            <svg class="w-4 h-4 text-slate-400 absolute left-3.5 top-2.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                        </div>

                        <!-- „Ç≥„É≥„ÉÜ„É≥„ÉÑ„Ç®„É™„Ç¢ -->
                        <div class="min-h-[300px]">
                            
                            <!-- ÂΩπÂâ≤ (Persona) -->
                            <div v-if="currentTab === 'persona'" class="animate-fade">
                                <div v-for="(group, groupName) in filteredRoles" :key="groupName" class="mb-6">
                                    <h3 class="text-xs font-bold text-slate-500 bg-slate-100 inline-block px-2 py-1 rounded mb-3">{{ groupName }}</h3>
                                    <div class="grid grid-cols-2 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                                        <div v-for="role in group" :key="role.val" @click="config.role = role.val"
                                            :class="['card-anim p-3 rounded-xl cursor-pointer border bg-white relative flex flex-col h-full justify-between', 
                                            config.role === role.val ? 'selected-card' : 'border-slate-100']">
                                            <div>
                                                <div class="text-xl mb-1">{{ role.icon }}</div>
                                                <div class="font-bold text-xs md:text-sm text-slate-800 leading-tight">{{ role.label }}</div>
                                            </div>
                                            <div class="text-[10px] text-slate-400 mt-2 leading-tight">{{ role.desc }}</div>
                                            <div v-if="config.role === role.val" class="absolute top-2 right-2 w-2 h-2 bg-brand-500 rounded-full"></div>
                                        </div>
                                    </div>
                                </div>
                                <div v-if="Object.keys(filteredRoles).length === 0" class="text-center text-slate-400 py-10">
                                    Ë©≤ÂΩì„Åô„ÇãÂΩπÂâ≤„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì
                                </div>
                            </div>

                            <!-- ÊÄùËÄÉÊ≥ï (Thinking) -->
                            <div v-if="currentTab === 'thinking'" class="animate-fade">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <div v-for="fw in filteredFrameworks" :key="fw.val" @click="config.framework = fw.val"
                                        :class="['card-anim p-4 rounded-xl cursor-pointer border bg-white relative', 
                                        config.framework === fw.val ? 'selected-card' : 'border-slate-100']">
                                        <div class="font-bold text-sm text-slate-800 mb-1">{{ fw.label }}</div>
                                        <div class="text-xs text-slate-500 leading-relaxed">{{ fw.desc }}</div>
                                        <div v-if="config.framework === fw.val" class="absolute top-4 right-4 text-brand-600">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- „Éà„Éº„É≥ (Tone) -->
                            <div v-if="currentTab === 'tone'" class="animate-fade">
                                <div class="grid grid-cols-2 xs:grid-cols-3 md:grid-cols-4 gap-3">
                                    <div v-for="t in filteredTones" :key="t.val" @click="config.tone = t.val"
                                        :class="['card-anim p-3 rounded-xl cursor-pointer border bg-white text-center', 
                                        config.tone === t.val ? 'selected-card' : 'border-slate-100']">
                                        <div class="text-2xl mb-1">{{ t.icon }}</div>
                                        <div class="font-bold text-xs text-slate-800">{{ t.label }}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- ÂΩ¢Âºè (Format) -->
                            <div v-if="currentTab === 'format'" class="animate-fade">
                                <div class="grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 gap-3">
                                    <div v-for="fmt in filteredFormats" :key="fmt.val" @click="config.format = fmt.val"
                                        :class="['card-anim p-3 rounded-xl cursor-pointer border bg-white flex items-center gap-3', 
                                        config.format === fmt.val ? 'selected-card' : 'border-slate-100']">
                                        <div class="bg-slate-50 p-2 rounded text-lg">{{ fmt.icon }}</div>
                                        <div>
                                            <div class="font-bold text-xs text-slate-800">{{ fmt.label }}</div>
                                            <div class="text-[10px] text-slate-500">{{ fmt.desc }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Ë™øÊï¥ (Tuning) -->
                            <div v-if="currentTab === 'tuning'" class="animate-fade">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                    <div v-for="opt in tuningOptions" :key="opt.key" @click="constraints[opt.key] = !constraints[opt.key]"
                                        :class="['card-anim p-4 rounded-xl cursor-pointer border bg-white flex justify-between items-center', 
                                        constraints[opt.key] ? 'selected-card' : 'border-slate-100']">
                                        <div>
                                            <div class="font-bold text-sm text-slate-800">{{ opt.label }}</div>
                                            <div class="text-xs text-slate-500 mt-0.5">{{ opt.desc }}</div>
                                        </div>
                                        <div :class="['w-11 h-6 rounded-full flex items-center px-1 transition-colors duration-300', 
                                            constraints[opt.key] ? 'bg-brand-500' : 'bg-slate-200']">
                                            <div :class="['w-4 h-4 bg-white rounded-full shadow transition-transform duration-300', constraints[opt.key] ? 'translate-x-5' : 'translate-x-0']"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Âè≥„Ç´„É©„É†: „Éó„É¨„Éì„É•„Éº (PC: Â∏∏ÊôÇË°®Á§∫, Mobile: ‰∏ãÈÉ®„Å´Âõ∫ÂÆö or „Ç∑„Éº„Éà) -->
            <div class="w-full md:w-[350px] lg:w-[400px] bg-white border-t md:border-t-0 md:border-l border-slate-200 flex flex-col shadow-2xl z-30 md:relative">
                
                <!-- PCÁî®„Éò„ÉÉ„ÉÄ„Éº -->
                <div class="hidden md:flex p-4 border-b border-slate-100 justify-between items-center bg-white">
                    <h3 class="font-bold text-xs text-slate-500 uppercase tracking-widest">Output Preview</h3>
                    <button @click="copy" class="text-xs font-bold text-brand-600 hover:bg-brand-50 px-3 py-1 rounded-full transition-colors">
                        {{ copied ? '„Ç≥„Éî„ÉºÂÆå‰∫ÜÔºÅ' : '„Ç≥„Éî„Éº„Åô„Çã' }}
                    </button>
                </div>

                <!-- „Éó„É¨„Éì„É•„Éº„Ç®„É™„Ç¢ -->
                <div class="flex-1 relative bg-slate-50">
                    <textarea readonly v-model="output"
                        class="w-full h-full p-6 bg-transparent text-xs font-mono text-slate-600 leading-relaxed resize-none border-none outline-none"
                        placeholder="// „Åì„Åì„Å´ÁîüÊàê„Åï„Çå„Åü„Éó„É≠„É≥„Éó„Éà„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô..."></textarea>
                    
                    <!-- „É¢„Éê„Ç§„É´Áî®„Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞„Ç¢„ÇØ„Ç∑„Éß„É≥„Ç®„É™„Ç¢ -->
                    <div class="md:hidden absolute bottom-0 left-0 right-0 p-4 bg-white/90 backdrop-blur border-t border-slate-200 mobile-safe-bottom flex gap-3">
                        <button @click="generate" class="flex-1 bg-slate-900 text-white py-3 rounded-lg font-bold text-sm shadow-lg active:scale-95 transition-transform">
                            ÁîüÊàê„Åô„Çã
                        </button>
                        <button @click="copy" class="flex-1 bg-brand-600 text-white py-3 rounded-lg font-bold text-sm shadow-lg active:scale-95 transition-transform">
                            {{ copied ? 'ÂÆå‰∫Ü!' : '„Ç≥„Éî„Éº' }}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, reactive, computed } = Vue;

        createApp({
            setup() {
                const showContext = ref(false);
                const showMobileModelSelect = ref(false);
                const copied = ref(false);
                const currentTab = ref('persona');
                const searchQuery = ref('');
                const output = ref('');
                const input = reactive({ task: '', context: '' });
                const config = reactive({ model: 'gpt', role: 'auto', framework: 'auto', format: 'auto', tone: 'auto' });
                const constraints = reactive({});

                const models = [
                    { id: 'gpt', name: 'ChatGPT' },
                    { id: 'gemini', name: 'Gemini' },
                    { id: 'manus', name: 'Manus' },
                    { id: 'deepseek', name: 'DeepSeek' }
                ];

                const tabs = [
                    { id: 'persona', name: 'ÂΩπÂâ≤', icon: 'üë§' },
                    { id: 'thinking', name: 'ÊÄùËÄÉ', icon: 'üß†' },
                    { id: 'tone', name: 'Âè£Ë™ø', icon: 'üó£Ô∏è' },
                    { id: 'format', name: 'ÂΩ¢Âºè', icon: 'üìù' },
                    { id: 'tuning', name: 'Ë™øÊï¥', icon: '‚öôÔ∏è' }
                ];

                // ==========================================
                // MASSIVE DATASET (8x Expanded)
                // ==========================================

                const roleData = {
                    "IT„ÉªÈñãÁô∫„ÉªÊäÄË°ì": [
                        { val: "architect", label: "„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„Éà", icon: "üèóÔ∏è", desc: "Â†ÖÁâ¢ÊÄß„Éª‰øùÂÆàÊÄßÈáçË¶ñ" },
                        { val: "frontend", label: "„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„ÅÆÈÅî‰∫∫", icon: "üé®", desc: "React/Vue/CSSË®≠Ë®à" },
                        { val: "backend", label: "„Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„ÅÆÈÅî‰∫∫", icon: "‚öôÔ∏è", desc: "Go/Rust/APIË®≠Ë®à" },
                        { val: "fullstack", label: "„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Ç®„É≥„Ç∏„Éã„Ç¢", icon: "üõ†Ô∏è", desc: "ÂÖ®„É¨„Ç§„É§„ÉºÂØæÂøú" },
                        { val: "mobile_dev", label: "„É¢„Éê„Ç§„É´„Ç¢„Éó„É™ÈñãÁô∫ËÄÖ", icon: "üì±", desc: "iOS/Android/Flutter" },
                        { val: "game_dev", label: "„Ç≤„Éº„É†ÈñãÁô∫ËÄÖ", icon: "üéÆ", desc: "Unity/Unreal/UX" },
                        { val: "datasci", label: "„Éá„Éº„Çø„Çµ„Ç§„Ç®„É≥„ÉÜ„Ç£„Çπ„Éà", icon: "‚öóÔ∏è", desc: "Áµ±Ë®à„ÉªPython„ÉªÂàÜÊûê" },
                        { val: "ml_eng", label: "Ê©üÊ¢∞Â≠¶Áøí„Ç®„É≥„Ç∏„Éã„Ç¢", icon: "ü§ñ", desc: "„É¢„Éá„É´ÊßãÁØâ„ÉªÂ≠¶Áøí" },
                        { val: "devops", label: "DevOps„Ç®„É≥„Ç∏„Éã„Ç¢", icon: "‚ôæÔ∏è", desc: "CI/CD„Éª„Ç§„É≥„Éï„É©" },
                        { val: "security", label: "„Çª„Ç≠„É•„É™„ÉÜ„Ç£Â∞ÇÈñÄÂÆ∂", icon: "üõ°Ô∏è", desc: "ËÑÜÂº±ÊÄßË®∫Êñ≠„ÉªÈò≤Âæ°" },
                        { val: "db_admin", label: "DBÁÆ°ÁêÜËÄÖ", icon: "üóÑÔ∏è", desc: "SQLÊúÄÈÅ©Âåñ„ÉªÊ≠£Ë¶èÂåñ" },
                        { val: "qa", label: "QA„Ç®„É≥„Ç∏„Éã„Ç¢", icon: "‚úÖ", desc: "„ÉÜ„Çπ„ÉàËá™ÂãïÂåñ„ÉªÂìÅË≥™" },
                        { val: "network", label: "„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É≥„Ç∏„Éã„Ç¢", icon: "üåê", desc: "TCP/IP„Éª„ÇØ„É©„Ç¶„Éâ" },
                        { val: "legacy", label: "„É¨„Ç¨„Ç∑„Éº„Ç≥„Éº„ÉâÂ∞ÇÈñÄÂÆ∂", icon: "üèõÔ∏è", desc: "„É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞" }
                    ],
                    "„Éì„Ç∏„Éç„Çπ„ÉªÁµåÂñ∂": [
                        { val: "ceo", label: "„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„ÉóCEO", icon: "üöÄ", desc: "„Éì„Ç∏„Éß„É≥„ÉªÊÑèÊÄùÊ±∫ÂÆö" },
                        { val: "cfo", label: "CFO (ÊúÄÈ´òË≤°ÂãôË≤¨‰ªªËÄÖ)", icon: "üí∞", desc: "Ë≤°ÂãôÊà¶Áï•„Éª„Ç≥„Çπ„Éà" },
                        { val: "mckinsey", label: "Êà¶Áï•„Ç≥„É≥„Çµ„É´„Çø„É≥„Éà", icon: "üíº", desc: "MECE„Éª„É≠„Ç∏„Ç´„É´" },
                        { val: "pm", label: "„Éó„É≠„ÉÄ„ÇØ„Éà„Éû„Éç„Éº„Ç∏„É£„Éº", icon: "üß≠", desc: "ÂÑ™ÂÖàÈ†Ü‰Ωç„Éª„É≠„Éº„Éâ„Éû„ÉÉ„Éó" },
                        { val: "marketer", label: "Web„Éû„Éº„Ç±„Çø„Éº", icon: "üìà", desc: "SEO„ÉªÂ∫ÉÂëä„ÉªCVR" },
                        { val: "sales", label: "„Éà„ÉÉ„Éó„Çª„Éº„É´„Çπ", icon: "ü§ù", desc: "‰∫§Ê∏â„Éª„ÇØ„É≠„Éº„Ç∏„É≥„Ç∞" },
                        { val: "hr", label: "‰∫∫‰∫ã„Éû„Éç„Éº„Ç∏„É£„Éº", icon: "üë•", desc: "Êé°Áî®„ÉªÁµÑÁπîÈñãÁô∫" },
                        { val: "legal", label: "‰ºÅÊ•≠Ê≥ïÂãô", icon: "‚öñÔ∏è", desc: "Â•ëÁ¥Ñ„Éª„Ç≥„É≥„Éó„É©„Ç§„Ç¢„É≥„Çπ" },
                        { val: "acc", label: "ÂÖ¨Ë™ç‰ºöË®àÂ£´", icon: "üßÆ", desc: "‰ºöË®à„ÉªÁ®éÂãô„ÉªÁõ£Êüª" },
                        { val: "investor", label: "„Éô„É≥„ÉÅ„É£„Éº„Ç≠„É£„Éî„Çø„É™„Çπ„Éà", icon: "ü¶Ñ", desc: "ÊäïË≥áÂà§Êñ≠„ÉªÂ∏ÇÂ†¥ÊÄß" }
                    ],
                    "„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ„ÉªÂà∂‰Ωú": [
                        { val: "copywriter", label: "„Ç≥„Éî„Éº„É©„Ç§„Çø„Éº", icon: "‚úçÔ∏è", desc: "Âà∫„Åï„ÇãË®ÄËëâÈÅ∏„Å≥" },
                        { val: "novelist", label: "Â∞èË™¨ÂÆ∂", icon: "üìñ", desc: "Áâ©Ë™û„Éª‰ºèÁ∑ö„ÉªÊèèÂÜô" },
                        { val: "screenwriter", label: "ËÑöÊú¨ÂÆ∂", icon: "üé¨", desc: "„Çª„É™„Éï„ÉªÊßãÊàê" },
                        { val: "ux_writer", label: "UX„É©„Ç§„Çø„Éº", icon: "üì±", desc: "„Éû„Ç§„ÇØ„É≠„Ç≥„Éî„Éº" },
                        { val: "seo_writer", label: "SEO„É©„Ç§„Çø„Éº", icon: "üîç", desc: "Ê§úÁ¥¢È†Ü‰Ωç„ÉªKW" },
                        { val: "editor", label: "ÊïèËÖïÁ∑®ÈõÜËÄÖ", icon: "üìù", desc: "Ê†°Ê≠£„ÉªÊé®Êï≤„Éª‰ºÅÁîª" },
                        { val: "designer", label: "UI/UX„Éá„Ç∂„Ç§„Éä„Éº", icon: "‚ú®", desc: "Ë¶ñË™çÊÄß„Éª‰ΩìÈ®ìË®≠Ë®à" },
                        { val: "art_dir", label: "„Ç¢„Éº„Éà„Éá„Ç£„É¨„ÇØ„Çø„Éº", icon: "üé®", desc: "‰∏ñÁïåË¶≥„ÉªÁµ±‰∏ÄÊÑü" },
                        { val: "youtuber", label: "‰∫∫Ê∞óYouTuber", icon: "‚ñ∂Ô∏è", desc: "‰ºÅÁîª„ÉªÂè∞Êú¨„Éª„Éï„ÉÉ„ÇØ" },
                        { val: "musician", label: "‰ΩúÊõ≤ÂÆ∂", icon: "üéµ", desc: "ÁêÜË´ñ„ÉªÊÑüÊÉÖË°®Áèæ" }
                    ],
                    "„Ç¢„Ç´„Éá„Éü„ÉÉ„ÇØ„ÉªÂ∞ÇÈñÄËÅ∑": [
                        { val: "professor", label: "Â§ßÂ≠¶ÊïôÊéà", icon: "üéì", desc: "Â≠¶Ë°ìÁöÑ„ÉªÂé≥ÂØÜ" },
                        { val: "researcher", label: "Á†îÁ©∂ËÄÖ", icon: "üî¨", desc: "„Ç®„Éì„Éá„É≥„Çπ„ÉªË´ñÊñá" },
                        { val: "doctor", label: "ÂåªÂ∏´", icon: "ü©∫", desc: "ÂåªÂ≠¶ÁöÑÊ†πÊã†„ÉªË®∫Êñ≠" },
                        { val: "lawyer", label: "ÂºÅË≠∑Â£´", icon: "‚öñÔ∏è", desc: "Ë´ñÁêÜ„ÉªÂà§‰æã„ÉªÊ®©Âà©" },
                        { val: "psychologist", label: "ÂøÉÁêÜ„Ç´„Ç¶„É≥„Çª„É©„Éº", icon: "üß†", desc: "ÂÇæËÅ¥„ÉªÂÖ±ÊÑü„ÉªÂøÉÁêÜ" },
                        { val: "historian", label: "Ê≠¥Âè≤ÂÆ∂", icon: "üìú", desc: "Âè≤ÂÆü„ÉªËÉåÊôØ„ÉªÊñáËÑà" },
                        { val: "philosopher", label: "Âì≤Â≠¶ËÄÖ", icon: "ü§î", desc: "Êú¨Ë≥™„ÉªÊâπÂà§ÁöÑÊÄùËÄÉ" },
                        { val: "math_teacher", label: "Êï∞Â≠¶ÊïôÂ∏´", icon: "üìê", desc: "Ë´ñÁêÜÁöÑ„ÉªË®ºÊòé" },
                        { val: "translator", label: "„Éó„É≠ÁøªË®≥ÂÆ∂", icon: "üó£Ô∏è", desc: "„Éã„É•„Ç¢„É≥„Çπ„ÉªÊñáÂåñ" }
                    ],
                    "„É©„Ç§„Éï„Çπ„Çø„Ç§„É´„Éª„Åù„ÅÆ‰ªñ": [
                        { val: "chef", label: "‰∏â„Å§Êòü„Ç∑„Çß„Éï", icon: "üë®‚Äçüç≥", desc: "„É¨„Ç∑„Éî„ÉªÂë≥Ë¶ö„ÉªÂ∑•Á®ã" },
                        { val: "trainer", label: "„Éë„Éº„ÇΩ„Éä„É´„Éà„É¨„Éº„Éä„Éº", icon: "üí™", desc: "Á≠ã„Éà„É¨„ÉªÊ†ÑÈ§ä„ÉªÂÅ•Â∫∑" },
                        { val: "travel", label: "„Éà„É©„Éô„É´„Ç¨„Ç§„Éâ", icon: "‚úàÔ∏è", desc: "Ë¶≥ÂÖâ„Éª„Éó„É©„É≥„Éã„É≥„Ç∞" },
                        { val: "gamer", label: "„Éó„É≠„Ç≤„Éº„Éû„Éº", icon: "üéÆ", desc: "ÊîªÁï•„ÉªÂäπÁéá„Éª„É°„Çø" },
                        { val: "parent", label: "„Éô„ÉÜ„É©„É≥„Éû„Éû/„Éë„Éë", icon: "üë∂", desc: "ËÇ≤ÂÖê„ÉªÂÆ∂‰∫ã„ÉªÂÖ±ÊÑü" },
                        { val: "comedian", label: "„ÅäÁ¨ë„ÅÑËä∏‰∫∫", icon: "ü§£", desc: "„É¶„Éº„É¢„Ç¢„Éª„Ç™„ÉÅ" },
                        { val: "fortune", label: "Âç†„ÅÑÂ∏´", icon: "üîÆ", desc: "ÈÅãÂã¢„Éª„Ç¢„Éâ„Éê„Ç§„Çπ" },
                        { val: "cat", label: "Áå´", icon: "üê±", desc: "Ê∞ó„Åæ„Åê„Çå„ÉªÂèØÊÑõ„ÅÑ" }
                    ]
                };

                const frameworks = [
                    { val: "step", label: "„Çπ„ÉÜ„ÉÉ„Éó„Éª„Éê„Ç§„Éª„Çπ„ÉÜ„ÉÉ„Éó", desc: "ÊâãÈ†Ü„ÇíÂàÜËß£„Åó„ÄÅÁùÄÂÆü„Å´ÂÆüË°å„Åô„Çã" },
                    { val: "cot", label: "ÊÄùËÄÉ„ÅÆÈÄ£Èéñ (Chain of Thought)", desc: "ÊÄùËÄÉÈÅéÁ®ã„ÇíÊòéÁ§∫„Åó„ÄÅË´ñÁêÜÈ£õË∫ç„ÇíÈò≤„Åê" },
                    { val: "tot", label: "ÊÄùËÄÉ„ÅÆÊú® (Tree of Thoughts)", desc: "Ë§áÊï∞„ÅÆÂèØËÉΩÊÄß„ÇíÂàÜÂ≤ê„Åï„Åõ„Å¶Ê§úË®é„Åô„Çã" },
                    { val: "first_principles", label: "Á¨¨‰∏ÄÂéüÁêÜÊÄùËÄÉ", desc: "Â∏∏Ë≠ò„ÇíÊç®„Å¶„ÄÅÊ†πÊú¨ÂéüÁêÜ„Åã„ÇâËÄÉ„Åà„Çã" },
                    { val: "swot", label: "SWOTÂàÜÊûê", desc: "Âº∑„Åø„ÉªÂº±„Åø„ÉªÊ©ü‰ºö„ÉªËÑÖÂ®Å" },
                    { val: "pestle", label: "PESTLEÂàÜÊûê", desc: "ÊîøÊ≤ª„ÉªÁµåÊ∏à„ÉªÁ§æ‰ºö„ÉªÊäÄË°ì„ÉªÊ≥ï„ÉªÁí∞Â¢É" },
                    { val: "3c", label: "3CÂàÜÊûê", desc: "Â∏ÇÂ†¥„ÉªÁ´∂Âêà„ÉªËá™Á§æ" },
                    { val: "4p", label: "4PÂàÜÊûê („Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞)", desc: "Ë£ΩÂìÅ„Éª‰æ°Ê†º„ÉªÊµÅÈÄö„ÉªË≤©‰øÉ" },
                    { val: "aida", label: "AIDA„ÅÆÊ≥ïÂâá", desc: "Ê≥®ÊÑè„ÉªÈñ¢ÂøÉ„ÉªÊ¨≤Ê±Ç„ÉªË°åÂãï" },
                    { val: "pasona", label: "PASONA„ÅÆÊ≥ïÂâá", desc: "ÂïèÈ°å„ÉªÊâáÂãï„ÉªËß£Ê±∫„ÉªÊèêÊ°à„ÉªË°åÂãï" },
                    { val: "prep", label: "PREPÊ≥ï", desc: "ÁµêË´ñ„ÉªÁêÜÁî±„ÉªÂÖ∑‰Ωì‰æã„ÉªÁµêË´ñ" },
                    { val: "star", label: "STARÊ≥ï", desc: "Áä∂Ê≥Å„ÉªË™≤È°å„ÉªË°åÂãï„ÉªÁµêÊûú" },
                    { val: "scamper", label: "SCAMPERÊ≥ï", desc: "ÁΩÆÊèõ„ÉªÁµêÂêà„ÉªÈÅ©Âøú„Éª‰øÆÊ≠£..." },
                    { val: "six_hats", label: "6„Å§„ÅÆÂ∏ΩÂ≠êÊÄùËÄÉÊ≥ï", desc: "ÂÆ¢Ë¶≥„ÉªÊÑüÊÉÖ„ÉªÊÇ≤Ë¶≥„ÉªÊ•ΩË¶≥„ÉªÂâµÈÄ†„ÉªÁÆ°ÁêÜ" },
                    { val: "eli5", label: "ELI5 (5Ê≠≥ÂÖêÂêë„Åë)", desc: "Â∞ÇÈñÄÁî®Ë™û„Çí‰Ωø„Çè„ÅöÊ•µ„ÇÅ„Å¶Âôõ„ÅøÁ†ï„Åè" },
                    { val: "feynman", label: "„Éï„Ç°„Ç§„É≥„Éû„É≥„Éª„ÉÜ„ÇØ„Éã„ÉÉ„ÇØ", desc: "Êïô„Åà„Çã„Å§„ÇÇ„Çä„Åß„Ç∑„É≥„Éó„É´„Å´Ë™¨Êòé" },
                    { val: "socratic", label: "„ÇΩ„ÇØ„É©„ÉÜ„ÇπÂºèÂïèÁ≠îÊ≥ï", desc: "Ë≥™Âïè„ÇíÈáç„Å≠„Å¶Êú¨Ë≥™„ÇíÂ∞é„Åè" },
                    { val: "critic", label: "ÊÇ™È≠î„ÅÆ‰ª£ÂºÅËÄÖ", desc: "„ÅÇ„Åà„Å¶ÂèçË´ñ„ÅóÊ≠ªËßí„ÇíË¶ã„Å§„Åë„Çã" },
                    { val: "pros_cons", label: "„É°„É™„ÉÉ„Éà„Éª„Éá„É°„É™„ÉÉ„ÉàÊØîËºÉ", desc: "Èï∑ÊâÄ„Å®Áü≠ÊâÄ„ÇíÂàóÊåô„Åó„Å¶ÊØîËºÉ" },
                    { val: "pareto", label: "„Éë„É¨„Éº„Éà„ÅÆÊ≥ïÂâá (80:20)", desc: "ÈáçË¶Å„Å™2Ââ≤„Å´ÈõÜ‰∏≠„Åô„Çã" },
                    { val: "pdca", label: "PDCA„Çµ„Ç§„ÇØ„É´", desc: "Ë®àÁîª„ÉªÂÆüË°å„ÉªË©ï‰æ°„ÉªÊîπÂñÑ" },
                    { val: "ooda", label: "OODA„É´„Éº„Éó", desc: "Ë¶≥ÂØü„ÉªÊÉÖÂã¢Âà§Êñ≠„ÉªÊ±∫ÂÆö„ÉªË°åÂãï" }
                ];

                const tones = [
                    { val: "professional", label: "„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´", icon: "üëî" },
                    { val: "friendly", label: "„Éï„É¨„É≥„Éâ„É™„Éº", icon: "üòä" },
                    { val: "confident", label: "Ëá™‰ø°Ê∫Ä„ÄÖ", icon: "ü¶Å" },
                    { val: "empathetic", label: "ÂÖ±ÊÑüÁöÑ„ÉªÂÑ™„Åó„Åè", icon: "‚ù§Ô∏è" },
                    { val: "witty", label: "„É¶„Éº„É¢„Ç¢„Éª„Ç¶„Ç£„ÉÉ„Éà", icon: "üòâ" },
                    { val: "academic", label: "Â≠¶Ë°ìÁöÑ„ÉªË´ñÊñáË™ø", icon: "üéì" },
                    { val: "urgent", label: "Á∞°ÊΩî„ÉªÁ∑äÊÄ•", icon: "‚ö°" },
                    { val: "storyteller", label: "Áâ©Ë™ûË™ø", icon: "üìö" },
                    { val: "sarcastic", label: "ÁöÆËÇâ„ÉªÊØíËàå", icon: "üòà" },
                    { val: "encouraging", label: "Âä±„Åæ„Åó„Éª„Ç≥„Éº„ÉÅ„É≥„Ç∞", icon: "üì£" },
                    { val: "objective", label: "ÂÆ¢Ë¶≥ÁöÑ„Éª„Éâ„É©„Ç§", icon: "üòê" },
                    { val: "poetic", label: "Ë©©ÁöÑ„ÉªÊÉÖÁ∑íÁöÑ", icon: "üå∏" },
                    { val: "salesy", label: "„Çª„Éº„É´„Çπ„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞", icon: "üî•" },
                    { val: "childish", label: "Â≠ê‰æõÂêë„Åë", icon: "üéà" },
                    { val: "formal", label: "Ê•µ„ÇÅ„Å¶Á§ºÂÑÄÊ≠£„Åó„Åè", icon: "üôá" }
                ];

                const formats = [
                    { val: "markdown", label: "Markdown„É¨„Éù„Éº„Éà", icon: "üìÑ", desc: "Ë¶ãÂá∫„Åó‰ªò„ÅçÊ®ôÊ∫ñÊñáÊõ∏" },
                    { val: "code", label: "„Ç≥„Éº„Éâ„Éñ„É≠„ÉÉ„ÇØ„ÅÆ„Åø", icon: "üíª", desc: "Ëß£Ë™¨„Å™„Åó„Ç≥„Éº„Éâ„ÅÆ„Åø" },
                    { val: "json", label: "JSON„Éá„Éº„Çø", icon: "{}", desc: "„Ç∑„Çπ„ÉÜ„É†ÈÄ£Êê∫Áî®" },
                    { val: "csv", label: "CSVÂΩ¢Âºè", icon: "üìë", desc: "ExcelÁî®„Éá„Éº„Çø" },
                    { val: "table", label: "ÊØîËºÉ„ÉÜ„Éº„Éñ„É´", icon: "üìä", desc: "Ë°®ÂΩ¢Âºè„ÅßÊï¥ÁêÜ" },
                    { val: "checklist", label: "„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„Éà", icon: "‚úÖ", desc: "ÂÆüË°åÈ†ÖÁõÆ‰∏ÄË¶ß" },
                    { val: "bullet", label: "ÁÆáÊù°Êõ∏„Åç„É™„Çπ„Éà", icon: "‚Ä¢", desc: "Ë¶ÅÁÇπ„ÅÆ„ÅøÂàóÊåô" },
                    { val: "email", label: "„Éì„Ç∏„Éç„Çπ„É°„Éº„É´", icon: "‚úâÔ∏è", desc: "ÈÄÅ‰ø°ÂèØËÉΩ„Å™ÊñáÈù¢" },
                    { val: "twitter", label: "Twitter/X„Çπ„É¨„ÉÉ„Éâ", icon: "üê¶", desc: "Áü≠ÊñáÈÄ£ÊäïÂΩ¢Âºè" },
                    { val: "blog", label: "„Éñ„É≠„Ç∞Ë®ò‰∫ãÊßãÊàê", icon: "üìù", desc: "„Çø„Ç§„Éà„É´„ÉªË¶ãÂá∫„Åó„ÉªÊú¨Êñá" },
                    { val: "mermaid_flow", label: "Mermaid„Éï„É≠„ÉºÂõ≥", icon: "‚Ü™Ô∏è", desc: "„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà" },
                    { val: "mermaid_seq", label: "Mermaid„Ç∑„Éº„Ç±„É≥„Çπ", icon: "‚¨áÔ∏è", desc: "„Ç∑„Éº„Ç±„É≥„ÇπÂõ≥" },
                    { val: "mermaid_gantt", label: "Mermaid„Ç¨„É≥„Éà", icon: "üìÖ", desc: "Â∑•Á®ãË°®" },
                    { val: "ppt_outline", label: "„Éó„É¨„Çº„É≥ÊßãÊàêÊ°à", icon: "üìΩÔ∏è", desc: "„Çπ„É©„Ç§„ÉâÊûöÊï∞„Åî„Å®" },
                    { val: "quiz", label: "„ÇØ„Ç§„Ç∫„ÉªÂïèÈ°åÂΩ¢Âºè", icon: "‚ùì", desc: "ÂïèÈ°å„Å®Ëß£Á≠î" }
                ];

                const tuningOptions = [
                    { key: "no_apology", label: "Ë¨ùÁΩ™Á¶ÅÊ≠¢", desc: "„ÄåÁî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„ÄçÁ≠â„ÅÆÂâçÁΩÆ„Åç„Çí„Ç´„ÉÉ„Éà" },
                    { key: "no_hallucination", label: "‰∫ãÂÆüÂé≥ÂÆà (Êé®Ê∏¨Á¶ÅÊ≠¢)", desc: "Âòò„ÇíÈò≤„Åé„ÄÅÁ¢∫ÂÆü„Å™ÊÉÖÂ†±„ÅÆ„ÅøË®òËø∞" },
                    { key: "step_reasoning", label: "Êé®Ë´ñ„Éó„É≠„Çª„Çπ„ÅÆÈñãÁ§∫", desc: "ÁµêË´ñ„Å´Ëá≥„ÇãÊÄùËÄÉ„ÇíË°®Á§∫" },
                    { key: "confidence", label: "Ëá™‰ø°Â∫¶„Çπ„Ç≥„Ç¢Ë°®Á§∫", desc: "ÂõûÁ≠î„ÅÆÁ¢∫‰ø°Â∫¶„Çí%„ÅßË°®Á§∫" },
                    { key: "critique", label: "Ëá™Â∑±ÊâπÂà§„ÇíÂê´„ÇÅ„Çã", desc: "ÂõûÁ≠î„ÅÆÊ¨†ÁÇπ„ÇÑÈôêÁïå„ÇíÊåáÊëò" },
                    { key: "sources", label: "Âá∫ÂÖ∏„ÉªURL„ÅÆÊòéË®ò", desc: "ÊÉÖÂ†±Ê∫ê„ÇíÂèØËÉΩ„Å™Èôê„ÇäÊèêÁ§∫" },
                    { key: "web_search", label: "WebÊ§úÁ¥¢„ÇíË°å„ÅÜ", desc: "„Éç„ÉÉ„Éà‰∏ä„ÅÆÊúÄÊñ∞ÊÉÖÂ†±„ÇíÂèñÂæó" },
                    { key: "ask_questions", label: "‰∏çÊòéÁÇπ„ÅØË≥™Âïè„Åô„Çã", desc: "ÂãùÊâã„Å´Êé®Ê∏¨„Åõ„ÅöÁ¢∫Ë™ç„Åô„Çã" },
                    { key: "english_output", label: "Ëã±Ë™û„ÅßÂá∫Âäõ", desc: "ÂõûÁ≠î„ÅÆ„ÅøËã±Ë™û„ÅßË°å„ÅÜ" },
                    { key: "no_filler", label: "„Éï„Ç£„É©„Éº(Áõ∏Êßå)Á¶ÅÊ≠¢", desc: "„Äå„ÅØ„ÅÑ„ÄÅ„Åì„Çå„Åß„Åô„ÄçÁ≠â„ÇíÂâäÈô§" },
                    { key: "bold_key", label: "ÈáçË¶ÅË™ûÂè•„ÇíÂ§™Â≠óÂåñ", desc: "„Ç≠„Éº„Éù„Ç§„É≥„Éà„ÇíÂº∑Ë™øË°®Á§∫" },
                    { key: "example_driven", label: "ÂÖ∑‰Ωì‰æã„ÇíÂ§öÁî®", desc: "ÊäΩË±°Ë´ñ„Çà„ÇäÂÆü‰æã„ÇíÂÑ™ÂÖà" }
                ];

                // Âà∂Á¥Ñ„ÅÆÂàùÊúüÂåñ
                tuningOptions.forEach(o => constraints[o.key] = false);

                // --- COMPUTED PROPERTIES FOR FILTERING ---
                
                const filterItems = (items, query) => {
                    if (!query) return items;
                    const q = query.toLowerCase();
                    if (Array.isArray(items)) {
                        return items.filter(i => i.label.toLowerCase().includes(q) || i.desc.toLowerCase().includes(q));
                    }
                    // For grouped objects (Roles)
                    const result = {};
                    Object.keys(items).forEach(key => {
                        const filtered = items[key].filter(i => i.label.toLowerCase().includes(q) || i.desc.toLowerCase().includes(q));
                        if (filtered.length > 0) result[key] = filtered;
                    });
                    return result;
                };

                const filteredRoles = computed(() => filterItems(roleData, searchQuery.value));
                const filteredFrameworks = computed(() => filterItems(frameworks, searchQuery.value));
                const filteredTones = computed(() => filterItems(tones, searchQuery.value));
                const filteredFormats = computed(() => filterItems(formats, searchQuery.value));

                // --- GENERATION LOGIC ---

                const generate = () => {
                    let parts = [];
                    
                    // 1. Role
                    let roleTxt = "";
                    if (config.role === 'auto') {
                        roleTxt = "„ÅÇ„Å™„Åü„ÅØ„É¶„Éº„Ç∂„Éº„ÅÆË¶ÅÊúõ„Å´ÂØæ„Åó„Å¶„ÄÅÊúÄ„ÇÇÈÅ©„Åó„ÅüÂ∞ÇÈñÄÂÆ∂„Å®„Åó„Å¶ÊåØ„ÇãËàû„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ";
                    } else {
                        const allRoles = Object.values(roleData).flat();
                        const r = allRoles.find(r => r.val === config.role) || { label: config.role };
                        roleTxt = `„ÅÇ„Å™„Åü„ÅØ‰∏ñÁïå„Éà„ÉÉ„Éó„ÇØ„É©„Çπ„ÅÆ„Äå${r.label}„Äç„Å®„Åó„Å¶ÊåØ„ÇãËàû„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
                    }
                    
                    if (config.tone !== 'auto') {
                        const t = tones.find(t => t.val === config.tone);
                        roleTxt += `\n„Éà„Éº„É≥ÔºÜ„Éû„Éä„Éº„ÅØ„Äå${t ? t.label : config.tone}„Äç„ÇíÁ∂≠ÊåÅ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
                    }
                    parts.push(`# ÂΩπÂâ≤„Éª„Éö„É´„ÇΩ„Éä\n${roleTxt}`);

                    // 2. Input
                    if (input.context) parts.push(`# ËÉåÊôØÊÉÖÂ†±„Éª„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà\n${input.context}`);
                    parts.push(`# ‰æùÈ†ºÂÜÖÂÆπ („Çø„Çπ„ÇØ)\n${input.task || '(ÊåáÁ§∫„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ)'}`);

                    // 3. Framework
                    if (config.framework !== 'auto') {
                        const f = frameworks.find(fw => fw.val === config.framework);
                        parts.push(`# ÊÄùËÄÉ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ\nÂõûÁ≠î„Çí‰ΩúÊàê„Åô„ÇãÈöõ„ÅØ„Äå${f ? f.label : config.framework}„Äç„ÅÆ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`);
                    }

                    // 4. Constraints
                    let rules = [];
                    if (constraints.no_apology) rules.push("„ÄåÁî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„Äç„ÇÑ„ÄåAI„Å®„Åó„Å¶„Äç„Å®„ÅÑ„Å£„ÅüÂâçÁΩÆ„Åç„ÇÑË¨ùÁΩ™„ÅØ‰∏ÄÂàáÁ¶ÅÊ≠¢„Åß„Åô„ÄÇ");
                    if (constraints.no_hallucination) rules.push("‰∫ãÂÆü„Å´„Å™„ÅÑ„Åì„Å®„ÇíÊçèÈÄ†„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ‰∏çÊòé„Å™Â†¥Âêà„ÅØÊ≠£Áõ¥„Å´„ÄåÂàÜ„Åã„Çâ„Å™„ÅÑ„Äç„Å®Á≠î„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.step_reasoning) rules.push("ÁµêË´ñ„ÅÆÂâç„Å´„ÄÅ„Çπ„ÉÜ„ÉÉ„Éó„Éª„Éê„Ç§„Éª„Çπ„ÉÜ„ÉÉ„Éó„ÅßÊÄùËÄÉ„Éó„É≠„Çª„Çπ„ÇíÁ§∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.confidence) rules.push("ÂõûÁ≠î„ÅÆÊúÄÂæå„Å´„ÄÅ„Åì„ÅÆÂõûÁ≠î„Å´ÂØæ„Åô„ÇãËá™‰ø°Â∫¶Ôºà0„Äú100%Ôºâ„ÇíË®òËºâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.critique) rules.push("ÂõûÁ≠î„ÅÆÂæå„Å´„ÄÅËá™Ë∫´„ÅÆÂõûÁ≠î„Å´ÂØæ„Åô„ÇãÊâπÂà§ÁöÑ„Å™ÂàÜÊûêÔºàÊ¨†ÁÇπ„ÇÑÈôêÁïåÔºâ„ÇíÂä†„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.sources) rules.push("ÂèØËÉΩ„Å™Èôê„Çä„ÄÅÊÉÖÂ†±„ÅÆÂá∫ÂÖ∏„ÇÑÂèÇËÄÉURL„ÇíÊòéË®ò„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.web_search || config.model === 'manus') rules.push("ÂøÖË¶Å„Å´Âøú„Åò„Å¶Web„Éñ„É©„Ç¶„Ç∏„É≥„Ç∞„ÇíË°å„ÅÑ„ÄÅÊúÄÊñ∞ÊÉÖÂ†±„ÇíÊ§úÁ¥¢„ÉªÊ§úË®º„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.ask_questions) rules.push("‰æùÈ†ºÂÜÖÂÆπ„ÅåÊõñÊòß„Å™Â†¥Âêà„ÅØ„ÄÅÂãùÊâã„Å´Êé®Ê∏¨„Åõ„Åö„ÄÅ„É¶„Éº„Ç∂„Éº„Å´ËøΩÂä†„ÅÆË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.english_output) rules.push("ÂõûÁ≠î„ÅØ„Åô„Åπ„Å¶Ëã±Ë™û„ÅßË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.no_filler) rules.push("„Äå„ÅØ„ÅÑ„ÄÅÊâøÁü•„Åó„Åæ„Åó„Åü„Äç„Å™„Å©„ÅÆÁÑ°ÈßÑ„Å™‰ºöË©±ÊñáÔºà„Éï„Ç£„É©„ÉºÔºâ„ÇíÁúÅ„Åç„ÄÅÁµêÊûú„ÅÆ„Åø„ÇíÂá∫Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.bold_key) rules.push("ÈáçË¶Å„Å™Áî®Ë™û„ÇÑ„Éù„Ç§„É≥„Éà„ÅØ**Â§™Â≠ó**„ÅßÂº∑Ë™ø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    if (constraints.example_driven) rules.push("ÊäΩË±°ÁöÑ„Å™Ë™¨Êòé„Å†„Åë„Åß„Å™„Åè„ÄÅÂÖ∑‰ΩìÁöÑ„Å™‰∫ã‰æã„ÇíÂ§öÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    
                    // Manus specifics
                    if (config.model === 'manus') {
                         rules.push("„Åæ„ÅöÂÆüË°åË®àÁîªÔºà„Éó„É©„É≥Ôºâ„ÇíÁ´ã„Å¶„ÄÅ„Åù„Çå„ÇíÈ†ÜÊ¨°ÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    }

                    if (config.format !== 'auto') {
                        const fmt = formats.find(f => f.val === config.format);
                        rules.push(`Âá∫ÂäõÂΩ¢Âºè„ÅØÂé≥ÂØÜ„Å´„Äå${fmt ? fmt.label : config.format}„Äç„Å´Âæì„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`);
                    }

                    if (rules.length) parts.push(`# Âà∂Á¥ÑÊù°‰ª∂„Éª„É´„Éº„É´\n` + rules.map(r => `‚Ä¢ ${r}`).join('\n'));

                    output.value = parts.join('\n\n');
                };

                const toggleContext = () => showContext.value = !showContext.value;
                const copy = async () => {
                    if (!output.value) return;
                    await navigator.clipboard.writeText(output.value);
                    copied.value = true;
                    setTimeout(() => copied.value = false, 2000);
                };

                return {
                    models, tabs, roleData, frameworks, tones, formats, tuningOptions,
                    input, config, constraints, currentTab, searchQuery, output, copied, showContext, showMobileModelSelect,
                    filteredRoles, filteredFrameworks, filteredTones, filteredFormats,
                    toggleContext, generate, copy
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
